var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(s,t,r)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,o=(e,s)=>{for(var t in s||(s={}))a.call(s,t)&&n(e,t,s[t]);if(r)for(var t of r(s))i.call(s,t)&&n(e,t,s[t]);return e},l=(e,r)=>s(e,t(r)),c=(e,s,t)=>new Promise((r,a)=>{var i=e=>{try{o(t.next(e))}catch(s){a(s)}},n=e=>{try{o(t.throw(e))}catch(s){a(s)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,n);o((t=t.apply(e,s)).next())});import{a as m,j as d,H as u}from"./index-MxVE3nxO.js";import{r as x}from"./vendor-CA6pEULs.js";import{u as h,L as p}from"./router-CEJF1XdO.js";import{M as g,x as j,f as b,E as y,ad as f,ae as w,a7 as N}from"./ui-CVXBtoA3.js";const v=()=>{const[e,s]=x.useState({email:"",password:""}),[t,r]=x.useState(!1),[a,i]=x.useState(!1),[n,v]=x.useState(!1),[S,I]=x.useState(!1),[k,P]=x.useState(""),[A,E]=x.useState(!1),[C,T]=x.useState({}),{login:O,error:F}=m(),D=h();x.useEffect(()=>{if(n){const e=setTimeout(()=>{D("/")},1500);return()=>clearTimeout(e)}},[n,D]),x.useEffect(()=>{const e=localStorage.getItem("lastSignInEmail");e&&s(s=>l(o({},s),{email:e}))},[]);const q=e=>{const{name:t,value:r}=e.target;s(e=>l(o({},e),{[t]:r})),C[t]&&T(e=>l(o({},e),{[t]:""}))},R=t=>c(void 0,null,function*(){if(t.preventDefault(),U()){E(!0);try{localStorage.setItem("lastSignInEmail",e.email);const s=Date.now(),t=(yield O(e.email,e.password),Date.now()-s);N.success(`Welcome back! Signed in successfully in ${t}ms`),D("/",{replace:!0})}catch(r){const e=r.message||"Failed to sign in. Please try again.";N.error(e),s(e=>l(o({},e),{password:""}))}finally{E(!1)}}}),M=e=>/\S+@\S+\.\S+/.test(e),U=()=>{const s={};return e.email.trim()?M(e.email)||(s.email="Please enter a valid email"):s.email="Email is required",e.password||(s.password="Password is required"),T(s),0===Object.keys(s).length};return d.jsxs(d.Fragment,{children:[d.jsxs(u,{children:[d.jsx("title",{children:"Sign In | AI Resume Pro"}),d.jsx("meta",{name:"description",content:"Sign in to your AI Resume Pro account to access your free AI-powered resume and cover letter builder. Secure, fast, and easy login for job seekers."}),d.jsx("meta",{name:"robots",content:"noindex, follow"}),d.jsx("meta",{property:"og:title",content:"Sign In | AI Resume Pro"}),d.jsx("meta",{property:"og:description",content:"Sign in to your AI Resume Pro account to access your free AI-powered resume and cover letter builder."}),d.jsx("meta",{property:"og:type",content:"website"}),d.jsx("meta",{property:"og:url",content:"https://ai-resume-pro.com/signin"}),d.jsx("meta",{property:"og:image",content:"https://ai-resume-pro.com/og-image.png"}),d.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),d.jsx("meta",{property:"twitter:title",content:"Sign In | AI Resume Pro"}),d.jsx("meta",{property:"twitter:description",content:"Sign in to your AI Resume Pro account to access your free AI-powered resume and cover letter builder."}),d.jsx("meta",{property:"twitter:image",content:"https://ai-resume-pro.com/og-image.png"})]}),d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:d.jsx("div",{className:"max-w-md w-full space-y-8",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),d.jsx("p",{className:"text-gray-600",children:"Sign in to your account"})]}),d.jsxs("form",{onSubmit:R,className:"space-y-6",onKeyPress:e=>{"Enter"!==e.key||A||R(e)},children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(g,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:q,className:"block w-full pl-10 pr-3 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(C.email?"border-red-300 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your email",required:!0,disabled:A})]}),C.email&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.email})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(j,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:t?"text":"password",id:"password",name:"password",value:e.password,onChange:q,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(C.password?"border-red-300 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your password",required:!0,disabled:A}),d.jsx("button",{type:"button",onClick:()=>r(!t),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:t?d.jsx(b,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):d.jsx(y,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),C.password&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.password})]}),d.jsx("div",{className:"flex items-center justify-end",children:d.jsx(p,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500 transition-colors",children:"Forgot your password?"})}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:A||!(e.email.trim()&&e.password.trim()&&M(e.email)),className:`group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white ${A?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"} transition-colors duration-200`,children:A?d.jsxs("div",{className:"flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})})]}),d.jsxs("div",{className:"my-6 flex items-center",children:[d.jsx("div",{className:"flex-1 border-t border-gray-300"}),d.jsx("span",{className:"px-4 text-sm text-gray-500",children:"Don't have an account?"}),d.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),d.jsx("div",{className:"text-center",children:d.jsx(p,{to:"/signup",className:"text-blue-600 hover:text-blue-500 font-medium transition-colors",children:"Create a new account"})}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsxs("button",{type:"button",onClick:()=>I(!S),className:"flex items-center justify-center w-full text-sm text-gray-500 hover:text-gray-700 transition-colors",children:[d.jsx(f,{className:"h-4 w-4 mr-2"}),S?"Hide":"Show"," Debug Information"]}),S&&d.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg text-xs text-gray-600",children:[d.jsx("h4",{className:"font-medium mb-2",children:"Firebase Configuration:"}),d.jsx("p",{className:"mb-2",children:"Project ID: ai-resume-285cd"}),d.jsx("p",{className:"mb-2",children:"Auth Domain: ai-resume-285cd.firebaseapp.com"}),d.jsx("h4",{className:"font-medium mb-2 mt-4",children:"Authentication Status:"}),d.jsx("p",{className:"mb-2",children:"✅ Using Firebase Authentication (cleaned up)"}),d.jsx("p",{className:"mb-2",children:"❌ Mock authentication system removed"}),d.jsx("h4",{className:"font-medium mb-2 mt-4",children:"Current Test:"}),d.jsx("p",{className:"mb-2",children:"Email: muhammadmonissheikh9@gmail.com"}),d.jsx("p",{className:"mb-2 text-red-600",children:"Status: ❌ Authentication failed"}),d.jsx("h4",{className:"font-medium mb-2 mt-4",children:"Solution:"}),d.jsx("p",{className:"mb-2 text-green-600",children:"✅ Authentication system cleaned up!"}),d.jsx("p",{className:"mb-2",children:"The issue was having two different auth systems. Now everything uses Firebase."}),d.jsx("h4",{className:"font-medium mb-2 mt-4",children:"Test Account Existence:"}),d.jsxs("div",{className:"flex space-x-2 mb-2",children:[d.jsx("input",{type:"email",value:k,onChange:e=>P(e.target.value),placeholder:"Enter email to test",className:"flex-1 px-2 py-1 text-xs border border-gray-300 rounded"}),d.jsx("button",{onClick:()=>c(void 0,null,function*(){if(k)try{N.info(`Testing account existence for: ${k}`)}catch(e){N.error("Error testing account existence")}else N.error("Please enter an email to test")}),className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600",children:d.jsx(w,{className:"h-3 w-3"})})]}),d.jsx("h4",{className:"font-medium mb-2 mt-4",children:"Next Steps:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[d.jsxs("li",{children:["Go to the ",d.jsx("strong",{children:"Sign Up"})," page"]}),d.jsx("li",{children:"Create a new account with: muhammadmonissheikh9@gmail.com"}),d.jsx("li",{children:"Use a password that meets the requirements"}),d.jsx("li",{children:"Then come back here and sign in with the same credentials"})]}),d.jsx("h4",{className:"font-medium mb-2 mt-4",children:"Troubleshooting Tips:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[d.jsx("li",{children:"Make sure you've created an account first using the Sign Up page"}),d.jsx("li",{children:"Check that your email and password are exactly as you entered them during registration"}),d.jsx("li",{children:"Ensure your email is verified (if required by your Firebase settings)"}),d.jsx("li",{children:"Try creating a new account with a different email to test"})]}),d.jsx("h4",{className:"font-medium mb-2 mt-4",children:"Common Issues:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"auth/invalid-credential:"})," Wrong email or password"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"auth/user-not-found:"})," Account doesn't exist - sign up first"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"auth/too-many-requests:"})," Too many failed attempts - wait and try again"]})]})]})]})]})})})]})};export{v as default};
